module.exports = class Data1708225826080 {
    name = 'Data1708225826080'

    async up(db) {
        await db.query(`CREATE TABLE "transfer" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "extrinsic_hash" text, "fee" numeric NOT NULL, "amount" numeric NOT NULL, "from_id" character varying, "to_id" character varying, CONSTRAINT "PK_fd9ddbdd49a17afcbe014401295" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_d6624eacc30144ea97915fe846" ON "transfer" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_70ff8b624c3118ac3a4862d22c" ON "transfer" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_070c555a86b0b41a534a55a659" ON "transfer" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_76bdfed1a7eb27c6d8ecbb7349" ON "transfer" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_0751309c66e97eac9ef1149362" ON "transfer" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_f4007436c1b546ede08a4fd7ab" ON "transfer" ("amount") `)
        await db.query(`CREATE TABLE "withdraw" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "extrinsic_hash" text, "fee" numeric NOT NULL, "amount" numeric NOT NULL, "who_id" character varying, CONSTRAINT "PK_5c172f81689173f75bf5906ef22" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_6e902f01cf874c46b9973a95ed" ON "withdraw" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_6bf791961dd76368fe56ed2b33" ON "withdraw" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_de38a0e1732a8cd1c51def6597" ON "withdraw" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_aa40aea5349deafd36afb3009b" ON "withdraw" ("who_id") `)
        await db.query(`CREATE INDEX "IDX_0279c25f260fa70b391224082f" ON "withdraw" ("amount") `)
        await db.query(`CREATE TABLE "burn" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "extrinsic_hash" text, "fee" numeric NOT NULL, "amount" numeric NOT NULL, "who_id" character varying, CONSTRAINT "PK_dcb4f14ee4534154b31116553f0" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_256979d718b3d192ec491aa210" ON "burn" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_51879159280bddc67fbdbd9df9" ON "burn" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_49dd7ae3c7d28e7bf316150c7a" ON "burn" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_8215b3eb87bdf68d4892109e54" ON "burn" ("who_id") `)
        await db.query(`CREATE INDEX "IDX_15f0e2581cca352281879d5671" ON "burn" ("amount") `)
        await db.query(`CREATE TABLE "cross_chain_commitment" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "extrinsic_hash" text, "tx_id" text NOT NULL, "amount" numeric NOT NULL, "from_id" character varying, CONSTRAINT "PK_336d8a8b1edbd6f5b6d633834c2" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_63194d4700983aa867e39cbb78" ON "cross_chain_commitment" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_e99762e909c833e86624fa1bc1" ON "cross_chain_commitment" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_1e79ff252fcb99665c84498418" ON "cross_chain_commitment" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_930c82199dc2eb46162050a3ef" ON "cross_chain_commitment" ("tx_id") `)
        await db.query(`CREATE INDEX "IDX_8f8e4c04b3778b79c9c35c5208" ON "cross_chain_commitment" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_1768e23ab56f5fbd09b3d71e0f" ON "cross_chain_commitment" ("amount") `)
        await db.query(`CREATE TABLE "cross_chain_dispatch" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "extrinsic_hash" text, "tx_id" text NOT NULL, "amount" numeric NOT NULL, "to_id" character varying, CONSTRAINT "PK_8fdacc97cad24214c4796a8f122" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_f1f267b1aebf7a7f017d412cf7" ON "cross_chain_dispatch" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_8fe7a6c5d3aff5fa97778e6a2d" ON "cross_chain_dispatch" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_ee122742d4531671b40283b541" ON "cross_chain_dispatch" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_40d96990ad53dd6b33f466e0e2" ON "cross_chain_dispatch" ("tx_id") `)
        await db.query(`CREATE INDEX "IDX_f781cf0868d5703ba7f7f5b179" ON "cross_chain_dispatch" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_8ff4836b56d801b3bffddfdb20" ON "cross_chain_dispatch" ("amount") `)
        await db.query(`CREATE TABLE "account" ("id" character varying NOT NULL, CONSTRAINT "PK_54115ee388cdb6d86bb4bf5b2ea" PRIMARY KEY ("id"))`)
        await db.query(`ALTER TABLE "transfer" ADD CONSTRAINT "FK_76bdfed1a7eb27c6d8ecbb73496" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transfer" ADD CONSTRAINT "FK_0751309c66e97eac9ef11493623" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "withdraw" ADD CONSTRAINT "FK_aa40aea5349deafd36afb3009bd" FOREIGN KEY ("who_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "burn" ADD CONSTRAINT "FK_8215b3eb87bdf68d4892109e54f" FOREIGN KEY ("who_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "cross_chain_commitment" ADD CONSTRAINT "FK_8f8e4c04b3778b79c9c35c52086" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "cross_chain_dispatch" ADD CONSTRAINT "FK_f781cf0868d5703ba7f7f5b1796" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`DROP TABLE "transfer"`)
        await db.query(`DROP INDEX "public"."IDX_d6624eacc30144ea97915fe846"`)
        await db.query(`DROP INDEX "public"."IDX_70ff8b624c3118ac3a4862d22c"`)
        await db.query(`DROP INDEX "public"."IDX_070c555a86b0b41a534a55a659"`)
        await db.query(`DROP INDEX "public"."IDX_76bdfed1a7eb27c6d8ecbb7349"`)
        await db.query(`DROP INDEX "public"."IDX_0751309c66e97eac9ef1149362"`)
        await db.query(`DROP INDEX "public"."IDX_f4007436c1b546ede08a4fd7ab"`)
        await db.query(`DROP TABLE "withdraw"`)
        await db.query(`DROP INDEX "public"."IDX_6e902f01cf874c46b9973a95ed"`)
        await db.query(`DROP INDEX "public"."IDX_6bf791961dd76368fe56ed2b33"`)
        await db.query(`DROP INDEX "public"."IDX_de38a0e1732a8cd1c51def6597"`)
        await db.query(`DROP INDEX "public"."IDX_aa40aea5349deafd36afb3009b"`)
        await db.query(`DROP INDEX "public"."IDX_0279c25f260fa70b391224082f"`)
        await db.query(`DROP TABLE "burn"`)
        await db.query(`DROP INDEX "public"."IDX_256979d718b3d192ec491aa210"`)
        await db.query(`DROP INDEX "public"."IDX_51879159280bddc67fbdbd9df9"`)
        await db.query(`DROP INDEX "public"."IDX_49dd7ae3c7d28e7bf316150c7a"`)
        await db.query(`DROP INDEX "public"."IDX_8215b3eb87bdf68d4892109e54"`)
        await db.query(`DROP INDEX "public"."IDX_15f0e2581cca352281879d5671"`)
        await db.query(`DROP TABLE "cross_chain_commitment"`)
        await db.query(`DROP INDEX "public"."IDX_63194d4700983aa867e39cbb78"`)
        await db.query(`DROP INDEX "public"."IDX_e99762e909c833e86624fa1bc1"`)
        await db.query(`DROP INDEX "public"."IDX_1e79ff252fcb99665c84498418"`)
        await db.query(`DROP INDEX "public"."IDX_930c82199dc2eb46162050a3ef"`)
        await db.query(`DROP INDEX "public"."IDX_8f8e4c04b3778b79c9c35c5208"`)
        await db.query(`DROP INDEX "public"."IDX_1768e23ab56f5fbd09b3d71e0f"`)
        await db.query(`DROP TABLE "cross_chain_dispatch"`)
        await db.query(`DROP INDEX "public"."IDX_f1f267b1aebf7a7f017d412cf7"`)
        await db.query(`DROP INDEX "public"."IDX_8fe7a6c5d3aff5fa97778e6a2d"`)
        await db.query(`DROP INDEX "public"."IDX_ee122742d4531671b40283b541"`)
        await db.query(`DROP INDEX "public"."IDX_40d96990ad53dd6b33f466e0e2"`)
        await db.query(`DROP INDEX "public"."IDX_f781cf0868d5703ba7f7f5b179"`)
        await db.query(`DROP INDEX "public"."IDX_8ff4836b56d801b3bffddfdb20"`)
        await db.query(`DROP TABLE "account"`)
        await db.query(`ALTER TABLE "transfer" DROP CONSTRAINT "FK_76bdfed1a7eb27c6d8ecbb73496"`)
        await db.query(`ALTER TABLE "transfer" DROP CONSTRAINT "FK_0751309c66e97eac9ef11493623"`)
        await db.query(`ALTER TABLE "withdraw" DROP CONSTRAINT "FK_aa40aea5349deafd36afb3009bd"`)
        await db.query(`ALTER TABLE "burn" DROP CONSTRAINT "FK_8215b3eb87bdf68d4892109e54f"`)
        await db.query(`ALTER TABLE "cross_chain_commitment" DROP CONSTRAINT "FK_8f8e4c04b3778b79c9c35c52086"`)
        await db.query(`ALTER TABLE "cross_chain_dispatch" DROP CONSTRAINT "FK_f781cf0868d5703ba7f7f5b1796"`)
    }
}
